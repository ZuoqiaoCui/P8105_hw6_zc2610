---
title: "p8105_hw6_zc2610"
author: "Zuoqiao Cui"
date: "2022-11-22"
output: github_document
---

```{r}
library(tidyverse)
```

# Problem 2

```{r}
homicide_data_df = read_csv("./data/homicide-data.csv") %>% 
janitor::clean_names()
```

Create a new variable "city_state" to combine city and state columns

```{r}
homicide_data_df = homicide_data_df %>% 
  mutate(
    city_state = str_c(city, state, sep = ",")
  ) %>% 
  select(-city,-state)
```

1. Create a new binary variable indicating whether the homicide is solved

2. Omit cities Dallas, TX; Phoenix, AZ; Kansas City, MO and Tulsa, AL

3. Limit the analysis those for whom victim_race is white or black

4. Be sure victim_age is numeric

```{r}
homicide_data_df = homicide_data_df %>% 
  mutate(
    whether_solved = case_when(
      disposition == "Closed without arrest" ~ "unsolved",
      disposition == "Open/No arrest" ~ "unsolved",
      disposition == "Closed by arrest" ~ "resolved"
    )
  ) %>% 
filter(
    city_state != "Dallas,TX" & city_state != "Phoenix,AZ" & city_state != "Kansas City,MO" & city_state != "Tulsa,AL"
  ) %>% 
   mutate(
      victim_age = as.numeric(victim_age)
    )
```

For the city of Baltimore, MD, use the glm function to fit a logistic regression with resolved vs unresolved as the outcome and victim age, sex and race as predictors



# Problem 3

Import dataset

```{r}
homicide_data_df = read_csv("./data/birthweight.csv") %>% 
janitor::clean_names()
```



